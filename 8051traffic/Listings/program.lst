C51 COMPILER V9.56.0.0   PROGRAM                                                           02/25/2024 03:49:19 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE PROGRAM
OBJECT MODULE PLACED IN program.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE program.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\p
                    -rogram.lst) TABS(2)

line level    source

   1          #include <reg51.h>
   2          
   3          #define display P3
   4          
   5          sbit rs = P2^2;
   6          sbit rw = P2^3;
   7          sbit e = P2^4;
   8          
   9          sbit EntrySwitch = P1^0;
  10          sbit ExitSwitch = P1^1;
  11          
  12          char availableSpaces = 5;
  13          bit parkingFull = 0;  // Initially, parking is free
  14          
  15          unsigned char parkingFullMessage[13] = "Parking Full ";
  16          unsigned char parkingFreeMessage[13] = "Parking Free ";
  17          
  18          void lcdint();
  19          void lcdcmd(char command);
  20          void lcddata(char d);
  21          void updateDisplay();
  22          
  23          void delay(int time) {
  24   1          while (time--);
  25   1      }
  26          
  27          void main() {
  28   1          lcdint();
  29   1          while (1) {
  30   2              if (EntrySwitch == 0) {
  31   3                  delay(50000);
  32   3                  if (availableSpaces > 0 && availableSpaces <= 5) {
  33   4                      availableSpaces--;
  34   4                  }
  35   3              }
  36   2      
  37   2              if (ExitSwitch == 0) {
  38   3                  delay(50000);
  39   3                  if (availableSpaces < 5 && !parkingFull) {
  40   4                      availableSpaces++;
  41   4                  }
  42   3              }
  43   2      
  44   2              // Check if 5 button presses have occurred
  45   2              if (availableSpaces == 0 && !parkingFull) {
  46   3                  parkingFull = 1;
  47   3                  updateDisplay();  // Update display when parking becomes full
  48   3              } else if (availableSpaces > 0 && parkingFull) {
  49   3                  parkingFull = 0;
  50   3                  updateDisplay();  // Update display when parking becomes free
  51   3              }
  52   2      
  53   2              delay(50000);  // Add a delay at the end of the loop
  54   2          }
C51 COMPILER V9.56.0.0   PROGRAM                                                           02/25/2024 03:49:19 PAGE 2   

  55   1      }
  56          
  57          void lcdint() {
  58   1          lcdcmd(0X38);
  59   1          lcdcmd(0X0C);
  60   1          lcdcmd(0X06);
  61   1          lcdcmd(0X10);
  62   1          lcdcmd(0X01);
  63   1          lcdcmd(0X80);
  64   1      }
  65          
  66          void lcdcmd(char command) {
  67   1          display = command;
  68   1          rs = 0;
  69   1          rw = 0;
  70   1          e = 1;
  71   1          delay(100);
  72   1          e = 0;
  73   1          delay(5000);
  74   1      }
  75          
  76          void lcddata(char d) {
  77   1          display = d;
  78   1          rs = 1;
  79   1          rw = 0;
  80   1          e = 1;
  81   1          delay(100);
  82   1          e = 0;
  83   1          delay(5000);
  84   1      }
  85          
  86          void updateDisplay() {
  87   1          lcdcmd(0x01);  // Clear display
  88   1          delay(2000);
  89   1      char i;
*** ERROR C141 IN LINE 89 OF program.c: syntax error near 'char'
*** ERROR C202 IN LINE 89 OF program.c: 'i': undefined identifier
  90   1          if (parkingFull) {
  91   2              // Parking is full
  92   2              for (i = 0; i < 12 && parkingFullMessage[i] != '\0'; i++) {
*** ERROR C202 IN LINE 92 OF program.c: 'i': undefined identifier
  93   3                  lcddata(parkingFullMessage[i]);
*** ERROR C202 IN LINE 93 OF program.c: 'i': undefined identifier
  94   3              }
  95   2          } else {
  96   2              // Parking is free
  97   2              for (i = 0; i < 13 && parkingFreeMessage[i] != '\0'; i++) {
*** ERROR C202 IN LINE 97 OF program.c: 'i': undefined identifier
  98   3                  lcddata(parkingFreeMessage[i]);
*** ERROR C202 IN LINE 98 OF program.c: 'i': undefined identifier
  99   3              }
 100   2          }
 101   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  6 ERROR(S)
